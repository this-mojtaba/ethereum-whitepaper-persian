## متفرقه‌ها و ملاحظات

### پیاده‌سازی اصلاح‌شدهٔ GHOST

پروتکل «Greedy Heaviest Observed Subtree» یا به‌اختصار **GHOST**، نوآوری‌ای است که نخستین‌بار در دسامبر ۲۰۱۳ توسط یوناتان سومپولینسکی (Yonatan Sompolinsky) و آویو زوهار (Aviv Zohar) معرفی شد. انگیزهٔ اصلی پشت GHOST این واقعیت است که بلاکچین‌هایی با زمان تأیید سریع، در وضعیت فعلی با کاهش امنیت مواجه می‌شوند؛ چرا که نرخ بالای بلاک‌های منقضی‌شده یا بلاک‌های کهنه (stale blocks) دارند. علت این مسئله آن است که انتشار یک بلاک در شبکه به زمان نیاز دارد؛ اگر استخراج‌کنندهٔ A یک بلاک استخراج کند و پیش از آن‌که این بلاک به استخراج‌کنندهٔ B برسد، استخراج‌کنندهٔ B نیز بلاک دیگری استخراج کند، بلاک B در نهایت بلاک منقضی‌شده محسوب می‌شود و هیچ نقشی در امنیت شبکه نخواهد داشت.

علاوه بر این، یک مشکل تمرکزگرایی نیز وجود دارد. اگر استخراج‌کنندهٔ A یک استخر استخراج با ۳۰٪ توان هش (hashpower) باشد و استخراج‌کنندهٔ B تنها ۱۰٪ توان هش داشته باشد، احتمال تولید بلاک منقضی‌شده برای A حدود ۷۰٪ و برای B حدود ۹۰٪ خواهد بود. دلیل این تفاوت آن است که در ۳۰٪ مواقع، خود A بلاک قبلی را استخراج کرده و بلافاصله به داده‌های استخراج دسترسی دارد. در نتیجه، اگر فاصلهٔ زمانی بین بلاک‌ها آن‌قدر کوتاه باشد که نرخ بلاک‌های منقضی‌شده بالا برود، استخراج‌کنندهٔ بزرگ‌تر صرفاً به‌دلیل اندازهٔ خود کارایی بسیار بالاتری خواهد داشت. ترکیب این دو عامل باعث می‌شود بلاکچین‌هایی که بلاک‌ها را با سرعت بالا تولید می‌کنند، به احتمال زیاد به تمرکز قدرت استخراج در یک استخر بزرگ منجر شوند؛ استخری که عملاً کنترل فرآیند استخراج را در دست می‌گیرد.

مطابق توضیح سومپولینسکی و زوهار، پروتکل GHOST مشکل نخست یعنی کاهش امنیت شبکه را با واردکردن بلاک‌های منقضی‌شده در محاسبهٔ «طولانی‌ترین زنجیره» حل می‌کند. به این معنا که نه‌تنها بلاک والد و نیاکان آن، بلکه فرزندان منقضی‌شدهٔ نیاکان بلاک نیز — که در اصطلاح اتریوم «عموها» (uncles) نامیده می‌شوند — در محاسبهٔ مجموع اثبات کار پشتیبان هر زنجیره لحاظ می‌شوند.

برای حل مشکل دوم، یعنی سوگیری تمرکزگرایانه، اتریوم فراتر از نسخهٔ اولیهٔ GHOST حرکت می‌کند و اجازه می‌دهد بلاک‌های منقضی‌شده در زنجیرهٔ اصلی ثبت شوند و پاداش دریافت کنند. در این مدل، یک بلاک منقضی‌شده ۹۳٫۷۵٪ از پاداش پایهٔ بلاک را دریافت می‌کند و بلاکی که آن را در زنجیره قرار می‌دهد (اصطلاحاً «برادرزاده» یا nephew)، ۶٫۲۵٪ باقی‌مانده را دریافت می‌کند. با این حال، کارمزد تراکنش‌ها به بلاک‌های عمو تعلق نمی‌گیرد.

اتریوم یک نسخهٔ ساده‌شده از GHOST را پیاده‌سازی می‌کند که تنها تا پنج سطح عمق دارد. به‌طور مشخص، یک بلاک منقضی‌شده فقط می‌تواند توسط فرزندان نسل دوم تا پنجم بلاک والد خود به‌عنوان عمو در زنجیره قرار گیرد و بلاک‌هایی با فاصلهٔ نسبی بیشتر (برای مثال فرزند نسل ششم والد یا فرزند نسل سوم پدربزرگ) مجاز نیستند.

این محدودیت به چند دلیل اعمال شده است. نخست آن‌که GHOST بدون محدودیت، محاسبهٔ معتبر بودن عموها برای هر بلاک را بسیار پیچیده می‌کند. دوم این‌که GHOST نامحدود همراه با پرداخت پاداش — آن‌گونه که در اتریوم استفاده می‌شود — انگیزهٔ استخراج روی زنجیرهٔ اصلی را کاهش داده و ممکن است استخراج‌کنندگان را به استخراج روی زنجیرهٔ مهاجمان عمومی سوق دهد. در نهایت، محاسبات نشان می‌دهد که GHOST پنج‌سطحی همراه با مشوق‌های مالی، حتی با زمان بلاک ۱۵ ثانیه، بیش از ۹۵٪ کارایی دارد و استخراج‌کنندگانی با ۲۵٪ توان هش، افزایش تمرکز کمتر از ۳٪ را تجربه می‌کنند.
