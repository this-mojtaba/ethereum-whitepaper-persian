# پیام‌ها و تراکنش‌ها

(Messages and Transactions)

«پیام‌ها» (Messages) در اتریوم تا حدی شبیه به «تراکنش‌ها» در بیت‌کوین هستند، اما سه تفاوت مهم دارند. نخست این‌که یک پیام در اتریوم می‌تواند هم توسط یک موجودیت خارجی و هم توسط یک قرارداد ایجاد شود، در حالی که تراکنش‌های بیت‌کوین تنها از سوی موجودیت‌های خارجی قابل ایجاد هستند. دوم این‌که پیام‌های اتریوم به‌طور صریح می‌توانند شامل داده باشند. و در نهایت، گیرندهٔ یک پیام در اتریوم — در صورتی که یک حساب قراردادی باشد — این امکان را دارد که پاسخی بازگرداند؛ به این معنا که پیام‌های اتریوم مفهوم «تابع» را نیز در بر می‌گیرند.

اصطلاح «تراکنش» در اتریوم برای اشاره به یک بستهٔ دادهٔ امضاشده به‌کار می‌رود که حاوی پیامی است که از یک حساب تحت مالکیت خارجی ارسال می‌شود. تراکنش‌ها شامل گیرندهٔ پیام، امضایی برای شناسایی فرستنده، مقدار اتر ارسالی و دادهٔ همراه پیام هستند؛ همچنین دو مقدار دیگر به نام‌های STARTGAS و GASPRICE را نیز در خود دارند.

برای جلوگیری از رشد نمایی محاسبات و ایجاد حلقه‌های بی‌نهایت در کد، هر تراکنش ملزم است محدودیتی برای تعداد گام‌های محاسباتی قابل اجرا تعیین کند؛ این محدودیت شامل هم پیام اولیه و هم پیام‌های اضافی‌ای می‌شود که در طول اجرای کد ایجاد می‌شوند. مقدار STARTGAS همین سقف را مشخص می‌کند و GASPRICE کارمزدی است که به‌ازای هر گام محاسباتی به استخراج‌کننده پرداخت می‌شود.

اگر اجرای یک تراکنش «گاز تمام کند» (run out of gas)، تمام تغییرات وضعیت لغو می‌شوند — به‌جز پرداخت کارمزدها. اما اگر اجرای تراکنش با مقداری گاز باقی‌مانده متوقف شود، بخش استفاده‌نشدهٔ کارمزد به فرستنده بازگردانده می‌شود.

همچنین، یک نوع تراکنش جداگانه و پیام متناظر با آن برای ایجاد قرارداد وجود دارد؛ آدرس یک قرارداد بر اساس هش نانس حساب و داده‌های تراکنش محاسبه می‌شود.

یکی از پیامدهای مهم سازوکار پیام‌رسانی در اتریوم، ویژگی «شهروند درجه‌یک» (First-Class Citizen) بودن است؛ ایده‌ای که بر اساس آن، قراردادها از نظر توانمندی، هم‌سطح با حساب‌های خارجی هستند و از جمله می‌توانند پیام ارسال کنند یا قراردادهای دیگری ایجاد نمایند.

این ویژگی به قراردادها اجازه می‌دهد که به‌طور هم‌زمان نقش‌های بسیار متنوعی ایفا کنند. برای مثال، ممکن است یکی از اعضای یک سازمان غیرمتمرکز (یک قرارداد)، به‌عنوان یک حساب امانت‌دار (قراردادی دیگر) میان یک فرد بیش‌ازحد محتاط که از امضاهای لمپورت مقاوم در برابر محاسبات کوانتومی استفاده می‌کند (قراردادی سوم) و یک نهاد هم‌امضاکننده که خود از حسابی با پنج کلید برای امنیت بیشتر بهره می‌برد (قراردادی چهارم) عمل کند.

نقطهٔ قوت پلتفرم اتریوم در این است که سازمان غیرمتمرکز و قرارداد امانت‌دار نیازی ندارند بدانند هر یک از طرفین قرارداد از چه نوع حسابی استفاده می‌کند.

Page 14
