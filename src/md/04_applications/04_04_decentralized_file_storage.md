# ذخیره‌سازی فایل غیرمتمرکز

(Decentralized File Storage)

در چند سال گذشته، تعدادی از استارتاپ‌های محبوب ذخیره‌سازی آنلاین فایل ظهور کرده‌اند که شاخص‌ترین آن‌ها Dropbox است. هدف این خدمات آن است که کاربران بتوانند یک نسخهٔ پشتیبان از هارددیسک خود بارگذاری کنند و در ازای پرداخت هزینهٔ ماهانه، به داده‌های خود دسترسی داشته باشند. با این حال، بازار ذخیره‌سازی فایل در وضعیت کنونی، در بسیاری موارد ناکارآمد است. بررسی اجمالی راهکارهای موجود نشان می‌دهد که به‌ویژه در بازهٔ موسوم به «درهٔ وهم‌آلود» (Uncanny Valley) یعنی سطح ۲۰ تا ۲۰۰ گیگابایت — جایی که نه سهمیه‌های رایگان اعمال می‌شوند و نه تخفیف‌های سازمانی — هزینهٔ ماهانهٔ ذخیره‌سازی به‌قدری بالاست که گاهی در یک ماه، بیش از قیمت کل یک هارددیسک پرداخت می‌شود.

قراردادهای اتریوم می‌توانند امکان ایجاد یک اکوسیستم ذخیره‌سازی فایل غیرمتمرکز را فراهم کنند؛ اکوسیستمی که در آن کاربران منفرد بتوانند با اجاره‌دادن فضای خالی هارددیسک خود، مقادیر اندکی درآمد کسب کنند و از این طریق، استفاده از فضای بلااستفاده باعث کاهش چشمگیر هزینهٔ ذخیره‌سازی فایل شود.

هستهٔ اصلی چنین سیستمی، چیزی است که آن را «قرارداد دراپ‌باکس غیرمتمرکز» (Decentralized Dropbox Contract) می‌نامیم. این قرارداد به‌صورت زیر عمل می‌کند: ابتدا دادهٔ موردنظر به چندین بلاک تقسیم می‌شود، هر بلاک برای حفظ حریم خصوصی رمزنگاری می‌گردد و سپس یک درخت مرکل از این بلاک‌ها ساخته می‌شود. پس از آن، قراردادی ایجاد می‌شود که طبق آن، هر N بلاک یک‌بار، قرارداد یک اندیس تصادفی در درخت مرکل انتخاب می‌کند (با استفاده از هش بلاک قبلی — که از داخل کد قرارداد قابل دسترسی است — به‌عنوان منبع تصادفی) و مقدار X اتر به نخستین موجودیتی پرداخت می‌کند که تراکنشی شامل یک اثبات مالکیت شبیه به SPV برای بلاک مربوط به آن اندیس خاص ارائه دهد.

هنگامی که کاربر بخواهد فایل خود را دوباره دانلود کند، می‌تواند از یک پروتکل کانال پرداخت خرد (Micropayment Channel) استفاده کند؛ برای مثال، پرداخت ۱ شابو (szabo) به‌ازای هر ۳۲ کیلوبایت. کارآمدترین روش از نظر کارمزد آن است که پرداخت‌کننده تا پایان فرآیند، تراکنش را منتشر نکند و به‌جای آن، پس از هر ۳۲ کیلوبایت، تراکنش قبلی را با یک تراکنش اندکی سودآورتر با همان نانس جایگزین کند.

یکی از ویژگی‌های مهم این پروتکل آن است که اگرچه در نگاه نخست ممکن است به نظر برسد کاربر به تعداد زیادی گرهٔ تصادفی اعتماد می‌کند که فایل را حذف نکنند، اما می‌توان این ریسک را تقریباً به صفر رساند. این کار با تقسیم فایل به بخش‌های متعدد از طریق اشتراک‌گذاری راز (Secret Sharing) و نظارت بر قراردادها برای اطمینان از این‌که هر بخش همچنان در اختیار حداقل یک گره قرار دارد انجام می‌شود. تا زمانی که یک قرارداد همچنان در حال پرداخت پاداش باشد، این موضوع یک اثبات رمزنگاری‌شده فراهم می‌کند که نشان می‌دهد هنوز فردی در شبکه، فایل را ذخیره کرده است.
